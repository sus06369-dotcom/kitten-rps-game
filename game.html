<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kitten RPS Game - Play</title>
<style>
body {
    background: linear-gradient(to bottom, #f5f0e1, #e8dfc6);
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    flex-direction: column;
    margin: 0;
    padding: 0 10px;
    box-sizing: border-box;
    min-height: 100vh;
}

.center-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    margin-top: 5vh;
    text-align: center;
    position: relative;
}

.fade-in {
    opacity: 0;
    transition: opacity 0.8s, transform 0.8s;
}

.visible {
    opacity: 1;
    transform: translateY(0);
}

#intro-text {
    color: #4b0082;
    font-size: 8vw;
    font-weight: bold;
    margin-bottom: 3vh;
    word-break: keep-all;
}

#kitten-container {
    position: relative;
    margin-bottom: 3vh;
}

#kitten-img {
    max-width: 220px;
    height: auto;
    margin-bottom: 3vh;
}

#computer-choice {
    position: absolute;
    bottom: 0%;
    left: 0%;
    height: auto;
    z-index: 2;
}

/* å€‹åˆ¥å¤§å°è¨­å®š */
#computer-choice.scissors { width: 40%; }
#computer-choice.rock { width: 55%; }
#computer-choice.paper { width: 55%; }

#emoji-display {
    font-size: 45vw; 
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
    line-height: 1;
    z-index: 5;
}

.choice-buttons {
    display: flex;
    gap: 30px;
    margin-bottom: 3vh;
}

.choice-buttons button {
    padding: 12px 30px;
    font-size: 20px;
    font-weight: bold;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: transform 0.2s;
}

.choice-buttons button:hover { transform: scale(1.05); }

#yes-btn { background-color: #6ca0dc; color: #fff; }
#no-btn { background-color: #e58b8b; color: #fff; }

#status-text {
    color: #4b0082;
    font-size: 6vw;
    font-weight: bold;
    margin-bottom: 1vh;
}

#hint-text {
    color: #4b0082;
    font-size: 5vw;
    margin-bottom: 3vh;
}

#result {
    font-size: 8vw;
    font-weight: bold;
    color: #4b0082;
    margin: 3vh 0;
    min-height: 8vw;
}

.player-buttons {
    display: flex;
    gap: 30px;
    margin-bottom: 3vh;
    position: relative;
}

.player-buttons img {
    width: 70px;
    height: 70px;
    cursor: pointer;
    transform: translateY(30px);
    opacity: 0;
}
</style>
</head>
<body>

<div class="center-container">
    <div id="intro-text" class="fade-in">å˜¿ï¼Œèƒ½å’Œå°è²“çŒœå€‹æ‹³å—ï¼Ÿ</div>
    
    <div id="kitten-container">
        <img src="kitten.png" id="kitten-img" class="fade-in">
        <img src="" id="computer-choice" alt="">
        <div id="emoji-display"></div>
    </div>

    <div class="choice-buttons" id="choice-btns" style="visibility:hidden;">
        <button id="yes-btn">å¾ˆæ¨‚æ„</button>
        <button id="no-btn">ä¸æ¨‚æ„</button>
    </div>

    <div id="status-text" class="fade-in" style="visibility:hidden;">æº–å‚™å¥½äº†å—ï¼Ÿ</div>
    <div id="hint-text" class="fade-in" style="visibility:hidden;">å¥½äº†å°±é»æ“Šå‡ºæ‹³å§</div>

    <div id="result"></div>

    <div class="player-buttons" id="player-buttons"></div>
</div>

<script>
const introText = document.getElementById('intro-text');
const kittenImg = document.getElementById('kitten-img');
const choiceBtns = document.getElementById('choice-btns');
const yesBtn = document.getElementById('yes-btn');
const noBtn = document.getElementById('no-btn');
const statusText = document.getElementById('status-text');
const hintText = document.getElementById('hint-text');
const playerBtnContainer = document.getElementById('player-buttons');
const computerChoiceImg = document.getElementById('computer-choice');
const resultDiv = document.getElementById('result');
const emojiDisplay = document.getElementById('emoji-display');

const computerOptions = ['scissors2.png','rock2.png','paper2.png'];
let noClickCount = 0;

// åˆå§‹æ·¡å…¥
setTimeout(()=>{introText.classList.add('visible');}, 200);
setTimeout(()=>{kittenImg.classList.add('visible');}, 1000);
setTimeout(()=>{choiceBtns.style.visibility='visible'; choiceBtns.classList.add('visible');}, 1800);

// é»æ“Šä¸æ¨‚æ„
noBtn.addEventListener('click',()=>{
    noClickCount++;
    if(noClickCount===1) emojiDisplay.textContent='ğŸ¥º';
    else emojiDisplay.textContent='ğŸ¥¹';
});

// é»æ“Šå¾ˆæ¨‚æ„
yesBtn.addEventListener('click',()=>{
    // éš±è—åˆå§‹æ–‡å­—å’ŒæŒ‰éˆ•
    introText.style.display='none';
    choiceBtns.style.display='none';
    emojiDisplay.textContent='';

    // é¡¯ç¤ºæº–å‚™æ–‡å­—
    setTimeout(()=>{
        statusText.style.visibility='visible';
        statusText.classList.add('visible');
    },200);
    setTimeout(()=>{
        hintText.style.visibility='visible';
        hintText.classList.add('visible');
    },1000);

    // å»ºç«‹ç©å®¶å‡ºæ‹³æŒ‰éˆ•
    const playerChoices = [
        {src:'r.png', choice:'r'},
        {src:'g.png', choice:'g'},
        {src:'b.png', choice:'b'}
    ];

    playerChoices.forEach((btnData,index)=>{
        const btn = document.createElement('img');
        btn.src = btnData.src;
        btn.setAttribute('data-choice', btnData.choice);
        btn.style.transition = 'opacity 0.8s, transform 0.8s';
        btn.style.transform = 'translateY(30px)';
        btn.style.opacity = '0';
        playerBtnContainer.appendChild(btn);

        // æ·¡å…¥å¾ä¸‹è€Œä¸Šï¼Œå·¦â†’å³
        setTimeout(()=>{
            btn.style.opacity='1';
            btn.style.transform='translateY(0)';
        }, index*400);

        // ç©å®¶å‡ºæ‹³äº‹ä»¶
        btn.addEventListener('click', ()=>{
            const playerChoice = btn.getAttribute('data-choice');
            const computerChoiceFile = computerOptions[Math.floor(Math.random()*3)];
            computerChoiceImg.src = computerChoiceFile;

            // è¨­å®šå°æ‡‰ class æ§åˆ¶å¤§å°
            computerChoiceImg.className = '';
            if(computerChoiceFile==='scissors2.png') computerChoiceImg.classList.add('scissors');
            else if(computerChoiceFile==='rock2.png') computerChoiceImg.classList.add('rock');
            else if(computerChoiceFile==='paper2.png') computerChoiceImg.classList.add('paper');

            // éš±è—æ–‡å­—
            statusText.style.display='none';
            hintText.style.display='none';

            // åˆ¤å®šå‹è² 
            let result = '';
            if(playerChoice==='r'){
                if(computerChoiceFile==='scissors2.png') result='å¹³æ‰‹';
                else if(computerChoiceFile==='rock2.png') result='ç©å®¶è¼¸';
                else if(computerChoiceFile==='paper2.png') result='ç©å®¶è´';
            } else if(playerChoice==='g'){
                if(computerChoiceFile==='scissors2.png') result='ç©å®¶è´';
                else if(computerChoiceFile==='rock2.png') result='å¹³æ‰‹';
                else if(computerChoiceFile==='paper2.png') result='ç©å®¶è¼¸';
            } else if(playerChoice==='b'){
                if(computerChoiceFile==='scissors2.png') result='ç©å®¶è¼¸';
                else if(computerChoiceFile==='rock2.png') result='ç©å®¶è´';
                else if(computerChoiceFile==='paper2.png') result='å¹³æ‰‹';
            }

            resultDiv.textContent = result;
        });
    });
});
</script>
</body>
</html>
